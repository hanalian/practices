### HTTP是什么？
>HTTP是一种用于在通信双方(通常是客户端和服务器端)传输数据(包括但不限于图片、文本、音频等)的可靠的数据传输协议。值得注意的是，这里的可靠指的并不是信息不会被第三方窃取，而是说HTTP协议在大部分时候可以确保数据在传输的过程中可以保持有序和完整。若想保证使用HTTP 协议传输数据不被窃取，需要一种安全的HTTP形式。

### HTTP是如何工作的
>客户端通过向服务器端发送HTTP请求报文请求所需资源。通常这个请求是通过访问URL发起的。服务器端接收到请求报文之后再解析报文，识别出客户端所需的资源并从对应的存储区域取到该资源，然后生成HTTP相应报文并附带状态码以及对应的资源返回给客户端，一次HTTP请求和相应的过程到此结束。有时客户端可能并不是想获得某种资源，而是想更改或者是删除服务器端上的某个资源。其实过程都是类似的，只不过是请求和响应报文中的内容有所不同。

### 媒体类型
Web服务器在回送HTTP对象数据的时候会加上一个MIME类型，即告诉客户端返回的是什么类型的数据。通常客户端都会查看响应报文中标明的MIME类型，以此来判断自己是否有能力处理服务器返回的内容。

部分MIME类型：
* text/html:HTML格式的文本文档
* text/plain:普通的ASCⅡ文本文档
* image/jpeg:JPEG格式的图片
* image/gif:GIF格式的图片

### URI(统一资源标识符)
>每个Web服务器资源都拥有其特有的名字，这样才能使得客户端准确地向服务器端发送资源请求的报文。而服务器资源名被称为统一资源标识符(Uniform Resource Identifier)，即URI。
其实URI有两种形式，分别为URL(Uniform Resource Locators)统一资源定位符和URN(Uniform Resource Names)统一资源名称。

##### URL(统一资源定位符)
>URL是URI最常见的表现形式。URL描述了一台特定服务器上某资源的特定位置。它们可以明确地说明应该使用何种服务，如何从一个精确、固定的位置获取资源。
大部分的URL都遵循一种特定的格式：
* 第一部分被称为方案，说明了访问该资源所使用的协议类型。可以是HTTP，也可以是FTP等。
* 第二部分给出了服务器的因特网地址。
* 其余部分指定了该地址对应服务器上的某个资源。

##### URN(统一资源名称)
>URI的第二种形式就是URN。URN是作为特定资源的唯一名称使用的，与目前资源的存储地址无关。主要作用是用来标明资源的名称，这个名称在特定的命名空间中。

### 事务
一条HTTP事务是由一条由客户端发往服务器端的请求命令和一条由服务器端返还给客户端的响应结果组成。
### 方法
HTTP支持一些不同的请求命令，这些命令被称为HTTP方法(HTTP method)。其实每条HTTP请求都会包含一个方法，这个方法会告诉服务器应该执行什么动作(获取一个Web页面、删除某个资源或者是运行一个网关程序等)。

常见的几个HTTP方法:
##### GET
GET是最常用的方法，通常用于请求服务器发送某个资源。
##### POST
POST方法用以向服务器提交数据，通常用于表单数据提交。虽然POST和PUT看起来类似，但是还是有比较大的区别。stackoverflow上有关于这两种方法的讨论――[http://stackoverflow.com/questions/630453/put-vs-post-in-rest](http://stackoverflow.com/questions/630453/put-vs-post-in-rest)
##### PUT

PUT与GET相反，它会向服务器写入文档。PUT的语义就是让服务器创建一个由请求的URL命名的新文档。如果那个URL对应的资源存在的话，那么就用新的覆盖它。
##### DELETE
请服务器删除所请求URL对应的资源，如果有的话。
##### HEAD
HEAD方法与GET方法比较类似，但服务器在回送响应的时候只返回首部，不会返回实体的主体部分。这样就允许客户端在暂未获取实际资源的时候对资源的首部进行检查。
* 在不获取资源的情况下了解资源的情况
* 通过查看响应报文中的状态码查看资源是否存在
* 通过查看首部，测试资源是否被修改过了

### HTTP报文
HTTP就如因特网中的信使，给通信双方传递信息，而HTTP报文就是它用来传递信息的包裹了。
##### 报文的组成部分
* 起始行(start line): 对报文进行描述
* 首部(header): 包含属性
* 主体(body): 可选、包含数据

起始行和首部其实就是由行分割的ASCⅡ文本。每行都以一个由两个字符组成的行终止序列作为结束，其中包括一个回车符(ACSⅡ码13)和一个换行符(ASCⅡ码10)。这个行终止序列可以写作CRLF。需要指出的是，尽管HTTP规范中说明应该用CRLF来表示行终止，但稳健的应用程序也应该接受单个换行符作为行的终止。有些老的或者是不完整的HTTP应用程序并不总是既发送回车符，又发送换行符。


##### 报文的语法

报文可以分为请求报文和响应报文。
* 请求URL(request-URL)：所请求资源的所在位置
* 版本(version)：报文所使用的HTTP版本，格式为 HTTP / `<major>`.`<minor>`，有主次版本号之分
* 状态码(status-code)：描述请求过程中发生了什么，一般都是由三位数字组成，第一个数字通常表明返回的状态(成功、错误或者其他)
* 原因短语(reason-phrase)：其实和数字状态码类似，但是可读性较高
* 首部(header)：可以有零个或者多个首部，每个首部都包含一个名字。
* 实体的主体部分(entity-body)：由任意数据组成的数据块，但不是所有的报文都包含实体的主体部分。

##### 状态码
###### 100~199 信息性状态码
* 100 Continue：说明服务器收到了请求的初始部分，请客户继续发送实体。服务器在收到请求之后必须进行响应。通常客户端需先发送一个 100 Continue Expect首部。但是如果客户不打算发送实体，那就不应该发送此首部。
* 101 Switching Protocols ： 说明服务器正根据客户端的指定，将协议切换成Update首部所列的协议。

###### 200~299 成功状态码
* 200 OK：请求没有问题，实体的主体部分包含了所请求的资源。
* 201 Created：用于对创建服务器资源对象请求的响应(如PUT)。响应的实体部分中应该会包含新建资源的URL，比如Location首部中包含的URL。所以服务器应该在回送此请求之前创建好资源。
* 202 Accepted：服务器已经接受了客户端的请求，但是暂未对其执行任何动作。并且不能保证服务器一定会执行。如果会执行的话，可能还会包含预计执行时间等信息。
* 203 Non-Authoritative Information：实体首部包含的信息不是来自源端服务器，而是来自资源的一份副本。但是如果资源来自源端服务器，那么响应为200状态的应用程序就可以作为其一种可选项使用。
* 204 No Content：响应报文中包含若干首部和一个状态行，但是没有实体的部分。主要用于浏览器不转为显示新文档的情况下对其进行更新。
* 205 Reset Content：另一个主要用于浏览器的代码。负责告知浏览器清除当前页面中的所有HTML表单元素。
* 206 Partial Content：服务器已经成功处理了部分请求或者是Range(范围)请求。因为用户可以通过一些特殊的首部来获取部分或者是某个范围的文档。

###### 300~399 重定向状态码
* 300 Multiple Choices：客户端请求一个实际指向多个资源的URL时会返回这个状态码。例如服务器上有某个HTML网页有多种语言版本。返回这个代码时会携带一个选择列表，客户端需要沟通解决。
* 301 Move Permanently：所请求的资源已经被移走(永久性重定向)。响应的Location首部中应该包含资源目前所处的URL。
* 302 Found：所请求的资源已经被移走，此次将访问由Location指定的新的URL，但是以后还是访问老的URL，即临时性重定向。
* 303 See Other：该状态码表示请求对应的资源存在另一个URL，应使用GET方法获取资源。
* 304 Not Modified：该状态码表示客户端发送附带条件的请求(包含If-Match、If-Modified等首部)时，服务器端允许请求访问资源，但因发生请求为满足条件的情况后，直接返回304 Not Modified(服务器端资源未改变，可直接使用客户端未过期的缓存)。304状态码返回时，不包含任何响应的主题部分。304虽然放在3XX类别中，但是和重定向没有一点关系。
* 307 Temporary Redirect：临时重定向。该状态码与302有着相同的含义。尽管302禁止由POST变换成GET，但实际使用时大家并不遵守。307会遵照浏览器标准，不会从POST变成GET。

###### 400~499 客户端错误状态码
* 400 Bad Request：请求报文中存在语法错误。
* 401 Unauthorized：用户需进行认证。当浏览器初次接收到401响应，会弹出认证用的对话窗口。
* 403 Forbidden：表明对所请求资源的访问被服务器拒绝了。服务器没有必要给出拒绝的详细理由。如果想作说明的话，可以在实体的主体部分对原因进行描述，这样就能让用户看到了。未获得文件访问授权、访问权限出现某些问题等情况都有可能是发生403的原因。
* 404 Not Found：服务器上无法找到所请求的资源，也有可能是服务器拒绝请求且不想说明理由时使用。

###### 500~599 服务器错误
* 500 Internal Sever Error：服务器遇到一个妨碍它为请求提供服务的错误时，使用此状态码。
* 502 Bad Gateway：作为代理或者网关从请求响应链的下一条链路上收到了伪响应时(例如无法连接父网关)，使用此状态码。
* 503 Service Unavailable：用来说明服务器现在无法为请求提供服务，但是将来可以。如果服务器知道服务什么时候可用，可以在响应中包含一个Retry-After首部。
* 504 Gateway Timeout：在等待另一服务器对其请求进行响应时超时了。
